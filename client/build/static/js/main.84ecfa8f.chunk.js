(this["webpackJsonpfull-stack-checkers"]=this["webpackJsonpfull-stack-checkers"]||[]).push([[0],{63:function(e,t,r){},65:function(e,t,r){},99:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),c=r(30),s=r.n(c),i=(r(63),r(4)),l=r.n(i),o=r(9),u=r(32),p=r(16),b=r(3),d=(r(65),r(0)),h=function(e){var t,r=e.id,n=e.pieceColor,a=e.pieceIsKing,c=e.styleInfo;return"black"===n&&(t="p1"),"red"===n&&(t="p2"),a&&(t+=" king"),"circle"===c.shape?t+=" piece-circle":"square"===c.shape&&(t+=" piece-square"),t+=" "+c.boardStyle,Object(d.jsx)("div",{className:"piece ".concat(t),id:r,draggable:"true",onDragStart:function(e){return function(e){e.dataTransfer.setData("text",r),e.dataTransfer.setData("color",n)}(e)},children:a&&Object(d.jsx)("svg",{className:"king-icon",width:"184.099px",height:"184.099px",viewBox:"0 0 184.099 184.099",children:Object(d.jsx)("path",{d:"M182.23,54.814c-1.675-1.258-3.982-1.245-5.633,0.027l-48.457,36.991L96.337,19.979c-1.504-3.386-7.055-3.386-8.564,0\r l-32.175,72.68L7.563,54.878c-1.659-1.297-3.979-1.333-5.669-0.088c-1.696,1.254-2.338,3.492-1.577,5.443l33.372,86.229\r c0.691,1.803,2.43,2.984,4.357,2.984h108.009c1.942,0,3.666-1.176,4.36-2.984l33.368-86.229\r C184.538,58.282,183.905,56.068,182.23,54.814z M142.852,140.099h-101.6L15.193,72.774l39.357,30.948\r c1.13,0.895,2.606,1.218,4.022,0.853c1.404-0.342,2.564-1.315,3.151-2.643l30.333-68.516l29.928,67.626\r c0.591,1.304,1.729,2.277,3.118,2.631c1.388,0.365,2.861,0.061,4.006-0.816l39.981-30.521L142.852,140.099z M150.244,161.983\r c0,2.582-2.095,4.677-4.677,4.677H38.526c-2.582,0-4.676-2.095-4.676-4.677s2.095-4.677,4.676-4.677h107.041\r C148.155,157.307,150.244,159.401,150.244,161.983z"})})})},j=function(e){var t=e.color,r=e.number,n=e.populated,a=e.setBoard,c=e.pieceColor,s=e.pieceIsKing,i=e.styleInfo;var l="black"===t?"#954535":"#d2a56d",o="black"===t?"white":"black";return"bw"===i.boardStyle&&(l=o),"green"===i.boardStyle&&(l="black"===t?"#32612D":"#5ca08e"),Object(d.jsx)("div",{id:"square"+r,draggable:"false",onDragOver:function(e){return r=e,void("black"===t&&r.preventDefault());var r},onDrop:function(e){return function(e){a(e.target.id.replace("square",""),e.dataTransfer.getData("text"),e.dataTransfer.getData("color"))}(e)},className:"square",onClick:function(){console.log(n)},style:{backgroundColor:l,color:o},children:n?Object(d.jsx)(h,{styleInfo:i,pieceIsKing:s,pieceColor:c,id:r}):null})},m=function(e){var t=e.boardState,r=e.setBoard,n=e.styleInfo;return Object(d.jsx)("div",{className:"board ".concat(n.flipboard?"rotated":""),children:t.map((function(e,t){return Object(d.jsx)(j,{number:e.number,pieceColor:e.pieceColor,pieceIsKing:e.pieceIsKing,setBoard:r,color:e.color,populated:e.hasPiece,rowNum:Math.floor(e.number/8),styleInfo:n},t)}))})},O=r(11),g=r(13),x=function(e){var t=e.viewHistory;return Object(d.jsxs)("span",{className:"move-arrows grid-item",children:[Object(d.jsx)("span",{onClick:function(){return t("beginning")},className:"double-arrow-left",children:Object(d.jsx)("svg",{className:"double-arrow","aria-hidden":"true",focusable:"false","data-prefix":"fas",role:"img",viewBox:"0 0 512 512",children:Object(d.jsx)("path",{fill:"currentColor",d:"M34.5 239L228.9 44.7c9.4-9.4 24.6-9.4 33.9 0l22.7 22.7c9.4 9.4 9.4 24.5 0 33.9L131.5 256l154 154.7c9.3 9.4 9.3 24.5 0 33.9l-22.7 22.7c-9.4 9.4-24.6 9.4-33.9 0L34.5 273c-9.3-9.4-9.3-24.6 0-34zm192 34l194.3 194.3c9.4 9.4 24.6 9.4 33.9 0l22.7-22.7c9.4-9.4 9.4-24.5 0-33.9L323.5 256l154-154.7c9.3-9.4 9.3-24.5 0-33.9l-22.7-22.7c-9.4-9.4-24.6-9.4-33.9 0L226.5 239c-9.3 9.4-9.3 24.6 0 34z"})})}),Object(d.jsx)("span",{onClick:function(){return t("left")},className:"chevron left"}),Object(d.jsx)("span",{onClick:function(){return t("right")},className:"chevron right"}),Object(d.jsx)("span",{onClick:function(){return t("present")},className:"double-arrow-right",children:Object(d.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 512 512",className:"double-arrow",children:Object(d.jsx)("path",{fill:"currentColor",d:"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z"})})})]})},f=function(e){var t=e.gameOver,r=e.resetGame;return Object(d.jsx)("button",{onClick:r,className:"play-again",children:t?"Play Again":"Restart Game"})},y=function(e){var t=e.rotateBoard;return Object(d.jsxs)("span",{className:"board-flip",children:["flip board \xa0 \xa0",Object(d.jsx)("svg",{onClick:t,className:"board-flip-svg",viewBox:"0 0 489.645 489.645",children:Object(d.jsx)("path",{d:"M460.656,132.911c-58.7-122.1-212.2-166.5-331.8-104.1c-9.4,5.2-13.5,16.6-8.3,27c5.2,9.4,16.6,13.5,27,8.3\r c99.9-52,227.4-14.9,276.7,86.3c65.4,134.3-19,236.7-87.4,274.6c-93.1,51.7-211.2,17.4-267.6-70.7l69.3,14.5\r c10.4,2.1,21.8-4.2,23.9-15.6c2.1-10.4-4.2-21.8-15.6-23.9l-122.8-25c-20.6-2-25,16.6-23.9,22.9l15.6,123.8\r c1,10.4,9.4,17.7,19.8,17.7c12.8,0,20.8-12.5,19.8-23.9l-6-50.5c57.4,70.8,170.3,131.2,307.4,68.2\r C414.856,432.511,548.256,314.811,460.656,132.911z"})})]})},v=function(e){var t=e.player,r=e.viewHistory,n=e.gameOver,a=e.resetGame,c=e.styleInfo,s=e.rotateBoard;return Object(d.jsxs)("div",{className:"dashboard",children:[Object(d.jsxs)("span",{className:"player-info grid-item",children:[n?"Game over! ":t?"Player one's turn":"Player two's turn"," ",Object(d.jsx)("span",{className:t?"p1 ex "+c.shape+" "+c.boardStyle:"p2 ex "+c.shape+" "+c.boardStyle})]}),Object(d.jsx)(x,{viewHistory:r}),Object(d.jsx)(f,{resetGame:a,gameOver:n}),Object(d.jsx)(y,{rotateBoard:s})]})},w=function(e,t,r,n){if(!r[t])return{valid:!1,jump:!1,jumpedSquare:null,multiJump:!1,multiJumpOptions:[],isKing:!1};var a,c,s,i,l=[1,3,5,7,8,23,24,39,40,55,56,58,60,62],o=[],u=[],p={valid:!1,jump:!1,jumpedSquare:null,multiJump:!1,multiJumpOptions:[],isKing:r[t].pieceIsKing},b=[];n?(a=-9,c=-7,s=-18,i=-14):(a=7,c=9,s=14,i=18);var d=function(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!l.includes(e+t)&&e+t>=0&&e+t<64&&r[e+t].hasPiece&&(a&&"red"===r[e+t].pieceColor||!a&&"black"===r[e+t].pieceColor)&&!r[e+n].hasPiece&&(c?(p.multiJump=!0,p.multiJumpOptions.push(e+n)):(o.push(e+n),u.push(e+t)))};return t%8!==7&&b.push(t+c),t%8!==0&&b.push(t+a),p.isKing&&t%8!==7&&b.push(t-a),p.isKing&&t%8!==0&&b.push(t-c),d(t,a,s,n),d(t,c,i,n),p.isKing&&(d(t,-c,-i,n),d(t,-a,-s,n)),b.includes(e)?p.valid=!0:o.includes(e)&&(p.valid=!0,p.jumpedSquare=u[o.indexOf(e)],p.jump=!0,e%8!==0&&d(e,a,s,n,!0),e%8!==7&&d(e,c,i,n,!0),p.isKing&&e%8!==0&&d(e,-c,-i,n,!0),p.isKing&&e%8!==7&&d(e,-a,-s,n,!0)),p.valid&&[1,3,5,7,56,58,60,62].includes(e)&&(n&&e%2===1||!n&&e%2===0)&&(p.isKing=!0),p},k=function(e,t){var r={gameOver:!0,winner:t?"two":"one"},n=[1,3,5,7,8,23,24,39,40,55,56,58,60,62];return e.forEach((function(a){if(a.hasPiece&&(t&&"black"===a.pieceColor||!t&&"red"===a.pieceColor)&&function(r){var a=r.number,c=-9,s=-7,i=7,l=-9;return t||(c=7,s=9,l=-7,i=-9),a%8!==0&&a+c>=0&&a+c<=64&&!1===e[a+c].hasPiece||a%8!==7&&a+s>=0&&a+s<=64&&!1===e[a+s].hasPiece||!!(r.pieceIsKing&&a%8!==0&&a+i>=0&&a+i<=64&&!1===e[a+i].hasPiece)||!!(r.pieceIsKing&&a%8!==7&&a+l>=0&&a+l<=64&&!1===e[a+l].hasPiece)||!!(a%8!==0&&a+2*c>=0&&a+2*c<=64&&!n.includes(a+c)&&!0===e[a+c].hasPiece&&(t&&"red"===e[a+c].pieceColor||!t&&"black"===e[a+c].pieceColor)&&!1===e[a+2*c].hasPiece)||!!(a%8!==7&&a+2*s>=0&&a+2*s<=64&&!n.includes(a+s)&&!0===e[a+s].hasPiece&&(t&&"red"===e[a+s].pieceColor||!t&&"black"===e[a+s].pieceColor)&&!1===e[a+2*s].hasPiece)||!!(r.pieceIsKing&&a%8!==7&&a+2*l>=0&&a+2*l<=64&&!n.includes(a+l)&&!0===e[a+l].hasPiece&&(t&&"red"===e[a+l].pieceColor||!t&&"black"===e[a+l].pieceColor)&&!1===e[a+2*l].hasPiece)||!!(r.pieceIsKing&&a%8!==0&&a+2*i>=0&&a+2*i<=64&&!n.includes(a+i)&&!0===e[a+i].hasPiece&&(t&&"red"===e[a+i].pieceColor||!t&&"black"===e[a+i].pieceColor)&&!1===e[a+2*i].hasPiece)||void 0}(a))return r.gameOver=!1,r})),r},N=function(e){var t=e.gameOver,r=e.resetGame,n=t.gameOver?"flex":"none";return Object(d.jsxs)("div",{className:"end-modal",style:{display:n},children:[Object(d.jsx)("span",{onClick:function(){document.getElementsByClassName("end-modal")[0].style.visibility="hidden"},className:"close-modal",children:"X"}),Object(d.jsxs)("p",{children:["Player ",t.winner," has won!"]}),Object(d.jsx)(f,{resetGame:r,gameOver:t.gameOver})]})},C=[{number:0,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:1,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:2,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:3,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:4,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:5,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:6,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:7,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:8,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:9,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:10,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:11,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:12,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:13,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:14,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:15,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:16,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:17,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:18,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:19,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:20,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:21,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:22,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:23,hasPiece:!0,color:"black",pieceColor:"red",pieceIsKing:!1},{number:24,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:25,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:26,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:27,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:28,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:29,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:30,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:31,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:32,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:33,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:34,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:35,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:36,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:37,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:38,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:39,hasPiece:!1,color:"black",pieceColor:null,pieceIsKing:!1},{number:40,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:41,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:42,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:43,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:44,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:45,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:46,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:47,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:48,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:49,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:50,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:51,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:52,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:53,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:54,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:55,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:56,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:57,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:58,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:59,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:60,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:61,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1},{number:62,hasPiece:!0,color:"black",pieceColor:"black",pieceIsKing:!1},{number:63,hasPiece:!1,color:"white",pieceColor:null,pieceIsKing:!1}],I=function(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("p",{children:[" \xa9 ",(new Date).getFullYear(),", ",Object(d.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://mattdwinell.github.io",children:"Matthew Dwinell"})]})})},P=function(){return Object(d.jsxs)("div",{className:"about",children:[Object(d.jsxs)("p",{children:[" \xa0\xa0\xa0\xa0I hope this version of checkers amused you\u2014 there are a lot of checkers apps out there, and I wanted to put my own spin on the ruleset. When I was a kid, I was told that you didn\u2019t have to jump a piece if you didn\u2019t want to, but if you did a single-jump, you were obligated to double (or triple) jump if it was possible. Sure, it ",Object(d.jsx)("i",{children:"might"})," have been a forgiving way to play, but it also allows an opponent to set up traps where a king has to double jump and be subsequently taken. Happy playing!"]}),Object(d.jsxs)("p",{children:["\xa0\xa0\xa0\xa0This checkers app was created as a solo project by me, Matthew Dwinell. I built the clientside SPA in react using functional components and effect/state hooks. I used  Node, Express, Sequelize, Firebase, and a good chunk of spare time for the server-side architecture. For more information about projects I\u2019ve worked on, feel free to check out my ",Object(d.jsx)("a",{href:"https://mattdwinell.github.io",rel:"noreferrer",target:"_blank",children:"web portfolio"}),"."]})]})},S=r(105),T=r(103),K=r(106),D=r(104),E=r.p+"static/media/checkers_piece_icon.4d65ed96.PNG",A=r(33);r(67),r(100);r(69).config();A.a.initializeApp({apiKey:"AIzaSyBa6KoxDdgymaNzD822dqL4gNGdKw_K0fU",authDomain:"full-stack-checkers.firebaseapp.com",projectId:"full-stack-checkers",storageBucket:"full-stack-checkers.appspot.com",messagingSenderId:"497212367040",appId:"1:497212367040:web:2bb3e2824ad3f795ff8d25"});var q=new A.a.auth.GoogleAuthProvider,F=function(){G.signInWithPopup(q)},G=A.a.auth(),B=A.a.firestore(),M=function(){var e=Object(o.a)(l.a.mark((function e(t,r){var n,a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=B.doc("users/".concat(t.uid)),e.next=5,n.get();case 5:if(e.sent.exists){e.next=16;break}return a=t.email,c=t.displayName,s=t.photoURL,e.prev=8,e.next=11,n.set(Object(p.a)({displayName:c,email:a,photoURL:s},r));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error creating user document",e.t0);case 16:return e.abrupt("return",L(t.uid));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(t,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,B.doc("users/".concat(t)).get();case 5:return r=e.sent,e.abrupt("return",Object(p.a)({uid:t},r.data()));case 9:e.prev=9,e.t0=e.catch(2),console.error("Error fetching user",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.location.href=window.location.host,e.next=3,G.signOut();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(S.a,{bg:"light",expand:"sm",className:"style-nav-bar",children:[Object(d.jsx)(S.a.Brand,{children:Object(d.jsx)(O.b,{exact:!0,to:"/",children:Object(d.jsxs)("div",{className:"logo-holder",children:[" ",Object(d.jsx)("img",{src:E,alt:"checkers logo"})]})})}),Object(d.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsx)(S.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsx)(T.a,{children:Object(d.jsxs)(K.a,{defaultActiveKey:"/",className:"mr-auto",children:[Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsx)(O.b,{className:"top-nav-link",to:"/multiplayer",children:"Multiplayer"})})}),Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsx)(O.b,{className:"top-nav-link",to:"/",children:"Solo Play"})})}),Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsx)(O.b,{className:"top-nav-link",to:"/preferences",children:"Preferences"})})}),Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsx)(O.b,{className:"top-nav-link",to:"/rules",children:"Rules"})})}),Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsx)(O.b,{className:"top-nav-link",to:"/about",children:"About"})})}),Object(d.jsx)(D.a,{md:3,children:Object(d.jsx)(K.a.Item,{children:Object(d.jsxs)(O.b,{to:"/",children:[" ",Object(d.jsx)("button",{onClick:e,children:" Sign out"}),"  "]})})})]})})})]})},J=function(e){var t=e.changeShape,r=e.style,n=e.changeBoardstyle;return Object(d.jsxs)("div",{className:"preferences-page",children:[Object(d.jsx)("h4",{children:"Customize Board"}),Object(d.jsxs)("div",{className:"radio-control",children:["Piece shape",Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(){return t(document.querySelector('input[name="shape"]:checked').value)},defaultChecked:"circle"===r.shape,type:"radio",value:"circle",name:"shape"}),Object(d.jsx)("label",{htmlFor:"circle",children:" \xa0Round"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(){return t(document.querySelector('input[name="shape"]:checked').value)},defaultChecked:"square"===r.shape,name:"shape",value:"square",type:"radio"}),Object(d.jsx)("label",{htmlFor:"square",children:" \xa0Square"})]})]}),Object(d.jsxs)("div",{className:"radio-control",children:["Board Color",Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(){return n(document.querySelector('input[name="boardstyle"]:checked').value)},defaultChecked:"brown"===r.boardStyle,type:"radio",value:"brown",name:"boardstyle"}),Object(d.jsx)("label",{htmlFor:"circle",children:" \xa0Brown and Tan"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(){return n(document.querySelector('input[name="boardstyle"]:checked').value)},name:"boardstyle",value:"bw",type:"radio",defaultChecked:"bw"===r.boardStyle}),Object(d.jsx)("label",{htmlFor:"square",children:" \xa0Black and White"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{onChange:function(){return n(document.querySelector('input[name="boardstyle"]:checked').value)},name:"boardstyle",value:"green",type:"radio",defaultChecked:"green"===r.boardStyle}),Object(d.jsx)("label",{htmlFor:"square",children:" \xa0Shades of Green"})]})]})]})},R=function(){return Object(d.jsxs)("div",{className:"rules",children:[Object(d.jsx)("h5",{children:"General rules"}),Object(d.jsx)("p",{children:"Your goal is to remove all of the opponent's pieces by capturing them or forcing them into a position where they cannot move."}),Object(d.jsx)("p",{children:"Any piece can move diagonally forward, only kings can move diagonally backwards."}),Object(d.jsx)("p",{children:"A simple checkers move would be moving your piece diagonally forward one square."}),Object(d.jsx)("p",{children:"Jumping requires that the nearest diagonal square be occupied by the opponent's piece, and that the subsequent square after that piece is unoccupied."}),Object(d.jsx)("p",{children:"When you jump you capture the opponent's piece, removing it from the board."}),Object(d.jsx)("p",{children:" For single jumps, jumping is not required."}),Object(d.jsx)("p",{children:" If one of your pieces reaches the back-rank of the other side of the board, it becomes a king and can move backwards as well as forwards."}),Object(d.jsx)("h5",{children:"House rule"}),Object(d.jsx)("p",{children:"While single jumps are not mandatory, if you jump and have the option to double jump, you must take it."})]})},H=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(null),u=Object(b.a)(o,2),p=u[0],h=u[1],j=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?a(n):"userPassword"===r&&l(n)};return Object(d.jsxs)("div",{className:"mt-8 login-page",children:[Object(d.jsx)("h1",{className:"bg-header text-center font-bold",children:"Sign In- Multiplayer Checkers"}),Object(d.jsxs)("div",{className:"login-form",children:[null!==p&&Object(d.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:p}),Object(d.jsxs)("form",{className:"inner-login-form",children:[Object(d.jsx)("label",{htmlFor:"userEmail",className:"block",children:"\xa0\xa0 Email:\xa0"}),Object(d.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: abcd123@gmail.com",id:"userEmail",onChange:function(e){return j(e)}}),Object(d.jsx)("label",{htmlFor:"userPassword",className:"block",children:"\xa0 \xa0 Password:\xa0"}),Object(d.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:i,placeholder:"Your Password",id:"userPassword",onChange:function(e){return j(e)}})," \xa0",Object(d.jsx)("button",{className:"login-button",onClick:function(e){!function(e,t,r){e.preventDefault(),G.signInWithEmailAndPassword(t,r).catch((function(e){h("Error signing in with password and email!"),console.error("Error signing in with password and email",e)}))}(e,r,i)},children:"Sign in"})]}),Object(d.jsx)("p",{className:"text-center inner-login-form",children:"or"}),Object(d.jsx)("button",{className:"login-button",onClick:F,children:"Sign in with Google"}),Object(d.jsxs)("p",{className:"text-center my-3",children:["Don't have an account?"," ",Object(d.jsx)(O.b,{to:"signUp",className:"text-blue-500 hover:text-blue-600",children:"Sign up here"})," ",Object(d.jsx)("br",{})," ",Object(d.jsx)(O.b,{to:"passwordReset",className:"text-blue-500 hover:text-blue-600",children:"Forgot Password?"})]})]})]})},z=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(b.a)(c,2),i=s[0],u=s[1],p=Object(n.useState)(""),h=Object(b.a)(p,2),j=h[0],m=h[1],g=Object(n.useState)(null),x=Object(b.a)(g,2),f=x[0],y=x[1],v=function(){var e=Object(o.a)(l.a.mark((function e(t,r,n){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,G.createUserWithEmailAndPassword(r,n);case 4:c=e.sent,c.user,s=G.auth().currentUser,console.log(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),y("Error Signing up with email and password");case 13:a(""),u(""),m("");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,r,n){return e.apply(this,arguments)}}(),w=function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r?a(n):"userPassword"===r?u(n):"displayName"===r&&m(n)};return Object(d.jsxs)("div",{className:"mt-8 login-page",children:[Object(d.jsx)("h1",{className:"bg-header text-center font-bold",children:"Sign Up-Multiplayer Checkers"}),Object(d.jsxs)("div",{className:"login-form",children:[null!==f&&Object(d.jsx)("div",{className:"py-4 bg-red-600 w-full text-white text-center mb-3",children:f}),Object(d.jsxs)("form",{className:"",children:[Object(d.jsx)("label",{htmlFor:"displayName",className:"block",children:"Display Name: \xa0"}),Object(d.jsx)("input",{type:"text",className:"my-1 p-1 w-full ",name:"displayName",value:j,placeholder:"E.g: Faruq",id:"displayName",onChange:function(e){return w(e)}}),Object(d.jsx)("label",{htmlFor:"userEmail",className:"block",children:"\xa0\xa0  Email:\xa0"}),Object(d.jsx)("input",{type:"email",className:"my-1 p-1 w-full",name:"userEmail",value:r,placeholder:"E.g: faruq123@gmail.com",id:"userEmail",onChange:function(e){return w(e)}}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"userPassword",className:"block",children:"Password:\xa0"}),Object(d.jsx)("input",{type:"password",className:"mt-1 mb-3 p-1 w-full",name:"userPassword",value:i,placeholder:"Your Password",id:"userPassword",onChange:function(e){return w(e)}}),"\xa0",Object(d.jsx)("button",{className:"login-button",onClick:function(e){v(e,r,i)},children:"Sign up"})]}),Object(d.jsx)("p",{className:"text-center",children:"or"}),Object(d.jsx)("button",{className:"login-button",onClick:F,children:"Sign In with Google"}),Object(d.jsxs)("p",{className:"text-center my-3",children:["Already have an account?"," ",Object(d.jsx)(O.b,{to:"/",className:"text-blue-500 hover:text-blue-600",children:"Sign in here"})]})]})]})},W=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(!1),s=Object(b.a)(c,2),i=s[0],l=s[1],o=Object(n.useState)(null),u=Object(b.a)(o,2),p=u[0],h=u[1];return Object(d.jsxs)("div",{className:"mt-8 login-page",children:[Object(d.jsx)("h1",{className:"bg-header text-center font-bold",children:"Reset your Password"}),Object(d.jsxs)("div",{className:"login-form",children:[Object(d.jsxs)("form",{className:"inner-login-form",action:"",children:[i&&Object(d.jsx)("div",{className:"py-3 bg-green-400 w-full text-white text-center mb-3",children:"An email has been sent to you!"}),null!==p&&Object(d.jsx)("div",{className:"py-3 bg-red-600 w-full text-white text-center mb-3",children:p}),Object(d.jsx)("label",{htmlFor:"userEmail",className:"w-full block",children:"Email:\xa0"}),Object(d.jsx)("input",{type:"email",name:"userEmail",id:"userEmail",value:r,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,r=t.name,n=t.value;"userEmail"===r&&a(n)},className:"mb-3 w-full px-1 py-2"}),"\xa0\xa0",Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),G.sendPasswordResetEmail(r).then((function(){l(!0),setTimeout((function(){l(!1)}),3e3)})).catch((function(){h("Error resetting password")}))},className:"login-button",children:"Send me a reset link"})]}),Object(d.jsx)(O.b,{to:"/",className:"text-blue-700 hover:text-blue-800 text-center ",children:"\u2190 back to sign in page"})]})]})},Y=r(55),_=r(56),X=r(58),V=r(57),Q=Object(n.createContext)({user:null}),Z=(n.Component,r(25)),$=r.n(Z),ee=function(e){return $()({url:"/api/games",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"get"})},te=function(e){return $()({url:"/api/games/find-one/"+e,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"get"})},re=function(e){return $()({url:"/api/games/"+encodeURI(e),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"get"})},ne=function(e){return $()({url:"/api/games/open/"+encodeURI(e),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"get"})},ae=function(e){return $()({url:"/api/games/past/"+encodeURI(e),headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"get"})},ce=function(e){return $()({url:"/api/games",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"post",data:e})},se=function(e){return $()({url:"/api/games/"+e,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"delete"})},ie=function(e){return $()({url:"/api/games/"+e.id,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"},method:"put",data:e})},le=function(e){var t=e.display,r=e.makeNewGame,n=e.hideShowForm,a=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=new FormData(document.querySelector("#newGameForm")),c=a.get("player"),s=a.get("alias"),c&&s&&!(!s.length>0)){e.next=8;break}alert("please input a display name for this game"),e.next=12;break;case 8:return e.next=10,r(c,s);case 10:e.sent&&n("popup");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t&&Object(d.jsx)("div",{className:"new-game-dashboard",children:Object(d.jsxs)("form",{id:"newGameForm",name:"newGameForm",className:"new-game-form",children:[Object(d.jsx)("h6",{children:"I would like to go..."}),Object(d.jsxs)("div",{className:"new-game-form-input",children:["  ",Object(d.jsx)("input",{type:"radio",name:"player",value:"p1",defaultChecked:"true"}),Object(d.jsx)("label",{htmlFor:"p1",children:" First"})]}),Object(d.jsxs)("div",{className:"new-game-form-input",children:[" ",Object(d.jsx)("input",{type:"radio",name:"player",value:"p2"}),Object(d.jsx)("label",{htmlFor:"p1",children:" Second"})]}),Object(d.jsx)("h6",{children:"Choose your display name for this game:"}),Object(d.jsxs)("div",{className:"new-game-form-input",children:[Object(d.jsx)("input",{maxLength:"16",type:"text",placeholder:"e.g. checkersfiend",name:"alias"}),"\xa0\xa0",Object(d.jsx)("button",{onClick:function(e){return a(e)},children:"create new game"})]})]})})},oe=function(e){var t=e.hideShow,r=e.display,n=e.message;return r&&Object(d.jsx)("div",{className:"banner-modal",onClick:t,children:n})},ue=function(e){var t=e.game,r=e.cancel;return Object(d.jsxs)("tr",{className:"seek-preview",children:[Object(d.jsx)("td",{className:t.playerOneDisplayName?"tan-highlight":"",children:t.playerOneDisplayName||"Waiting..."}),Object(d.jsx)("td",{className:t.playerTwoDisplayName?"tan-highlight":"",children:t.playerTwoDisplayName||"Waiting..."}),Object(d.jsx)("td",{children:Object(d.jsx)("span",{onClick:function(){return r(t.id)},className:"delete-request",children:"X"})})]})},pe=function(e){var t=e.display,r=e.openSeeks,n=e.cancel;return t&&Object(d.jsxs)("table",{className:"preview-dashboard",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Player One"}),Object(d.jsx)("th",{children:"Player Two"}),Object(d.jsx)("th",{children:"Remove"})]})}),Object(d.jsx)("tbody",{children:r.map((function(e,t){return Object(d.jsx)(ue,{cancel:n,game:e},t)}))})]})},be=function(e){var t=e.display,r=e.inputId,n=e.updateDisplayName;return t&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("input",{id:"input-".concat(r.toString()),onChange:function(e){return n(e.target.value)},type:"text",maxLength:"16",placeholder:"Display Name"})})},de=function(e){var t=e.game,r=e.joinGame,a=Object(n.useState)(!1),c=Object(b.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),p=Object(b.a)(u,2),h=p[0],j=p[1],m=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=4;break}i(!0),e.next=10;break;case 4:if(console.log(h),!(h.length>0)){e.next=10;break}return e.next=8,r(t,h);case 8:"success"===e.sent&&i(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("tr",{className:"seek-preview",children:[Object(d.jsx)("td",{className:t.playerOneDisplayName?"tan-highlight":"",children:t.playerOneDisplayName||"Waiting..."}),Object(d.jsx)("td",{className:t.playerTwoDisplayName?"tan-highlight":"",children:t.playerTwoDisplayName||"Waiting..."}),Object(d.jsxs)("td",{children:[Object(d.jsx)(be,{updateDisplayName:function(e){j(e)},inputId:t.id,display:s}),Object(d.jsx)("span",{className:"join-new-game",onClick:m,children:"\u2713"})]})]})},he=function(e){var t=e.display,r=e.openSeeks,n=e.joinGame;return t&&Object(d.jsxs)("table",{className:"preview-dashboard",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Player One"}),Object(d.jsx)("th",{children:"Player Two"}),Object(d.jsx)("th",{children:"Join"})]})}),Object(d.jsx)("tbody",{children:r.map((function(e,t){return Object(d.jsx)(de,{joinGame:n,game:e},t)}))})]})},je=function(e){var t=e.toggleBool,r=e.trueString,n=e.falseString,a=e.toggleFunc;return Object(d.jsx)("div",{className:"style-button",children:Object(d.jsxs)("button",{className:t?"red-background":"",onClick:function(){return a(!1)},children:[" ",t?r:n]})})},me=function(e){var t=e.game,r=e.user,n=new Date(t.updatedAt),a=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()+",  "+n.getHours()+":"+(n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes())+" (EDT)",c=t.playerOnesTurn&&r.uid==t.playerOne||!t.playerOnesTurn&&r.uid==t.playerTwo;return Object(d.jsxs)("tr",{className:c?"preview user-turn":"preview opponent-turn",children:[Object(d.jsxs)("td",{children:["\xa0",t.playerOneDisplayName,t.playerOne===r.uid?" (you)":""]}),Object(d.jsxs)("td",{children:[t.playerTwoDisplayName,t.playerTwo===r.uid?" (you)":""]}),Object(d.jsx)("td",{children:c?"Your go":"their turn"}),Object(d.jsx)("td",{children:t.history.length-1}),Object(d.jsx)("td",{children:a}),Object(d.jsx)("td",{children:Object(d.jsx)(O.b,{to:{params:{id:t.id},pathname:"/play-multiplayer/".concat(t.id),locationInfo:{game:t,user:r}},children:Object(d.jsx)("button",{className:"preview-action-btn",children:c?"play":"View Board"})})})]})},Oe=function(e){var t=e.games,r=e.user;return t.length>0&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h4",{className:"progress-header",children:"Games Currently in Progress"}),Object(d.jsxs)("table",{className:"preview-dashboard",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Player One"}),Object(d.jsx)("th",{children:"Player Two"}),Object(d.jsx)("th",{children:"Turn"}),Object(d.jsx)("th",{children:"Moves Made"}),Object(d.jsx)("th",{children:"Time of Last Move/ join"}),Object(d.jsx)("th",{children:"Play"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e,t){return Object(d.jsx)(me,{user:r,game:e},t)}))})]})]})},ge=function(e){var t=e.game,r=e.user;return Object(d.jsxs)("tr",{className:"preview",children:[Object(d.jsxs)("td",{children:["\xa0",t.playerOneDisplayName,t.playerOne===r.uid?" (you)":""]}),Object(d.jsxs)("td",{children:[t.playerTwoDisplayName,t.playerTwo===r.uid?" (you)":""]}),Object(d.jsx)("td",{children:t.history.length-1}),Object(d.jsx)("td",{children:t.winner===t.playerOne?t.playerOneDisplayName:t.playerTwoDisplayName}),Object(d.jsx)("td",{children:Object(d.jsx)(O.b,{to:{params:{id:t.id},pathname:"/play-multiplayer/".concat(t.id)},children:Object(d.jsx)("button",{className:"preview-action-btn",children:"View Board"})})})]})},xe=function(e){var t=e.games,r=e.display,n=e.user;return r&&Object(d.jsxs)("table",{className:"preview-dashboard",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Player One"}),Object(d.jsx)("th",{children:"Player Two"}),Object(d.jsx)("th",{children:"# of Moves"}),Object(d.jsx)("th",{children:"Winner"}),Object(d.jsx)("th",{children:"Board"})]})}),Object(d.jsx)("tbody",{children:t.map((function(e,t){return Object(d.jsx)(ge,{user:n,game:e},t)}))})]})},fe=function(e){var t=e.user,r=Object(n.useState)([]),a=Object(b.a)(r,2),c=(a[0],a[1]),s=Object(n.useState)(0),i=Object(b.a)(s,2),u=i[0],p=i[1],h=Object(n.useState)(!1),j=Object(b.a)(h,2),m=j[0],O=j[1],g=Object(n.useState)(!1),x=Object(b.a)(g,2),f=x[0],y=x[1],v=Object(n.useState)(!1),w=Object(b.a)(v,2),k=w[0],N=w[1],I=Object(n.useState)(!1),P=Object(b.a)(I,2),S=P[0],T=P[1],K=Object(n.useState)(!1),D=Object(b.a)(K,2),E=D[0],A=D[1],q=Object(n.useState)([]),F=Object(b.a)(q,2),G=F[0],B=F[1],M=Object(n.useState)([]),L=Object(b.a)(M,2),U=L[0],J=L[1],R=Object(n.useState)(""),H=Object(b.a)(R,2),z=H[0],W=H[1],Y=Object(n.useState)([]),_=Object(b.a)(Y,2),X=_[0],V=_[1],Q=Object(n.useState)(!0),Z=Object(b.a)(Q,2),$=Z[0],te=(Z[1],Object(n.useState)()),ue=Object(b.a)(te,2),be=ue[0],de=(ue[1],Object(n.useState)([])),me=Object(b.a)(de,2),ge=me[0],fe=me[1];Object(n.useEffect)(Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye();case 2:case"end":return e.stop()}}),e)}))),[u]),Object(n.useEffect)((function(){if(!$||be)return function(){return clearInterval(be)};var e=setInterval(ve,5e3);return function(){return clearInterval(e)}}),[]);var ye=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce();case 2:return e.next=4,Ne();case 4:return e.next=6,Pe();case 6:return e.next=8,Ie();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){ye(),console.log("tick:"+(new Date).getSeconds())},we=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1!==e&&(y("show"),W("New Game created! Awaiting opponent.")),O(!m)},ke=function(){var e=Object(o.a)(l.a.mark((function e(r,n){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={board:C,history:[{board:C,historyIndex:0}],gameOver:!1,playerOnesTurn:!0},"p1"!=r){e.next=6;break}a.playerOne=t.uid,a.playerOneDisplayName=n,e.next=12;break;case 6:if("p2"!=r){e.next=11;break}a.playerTwo=t.uid,a.playerTwoDisplayName=n,e.next=12;break;case 11:return e.abrupt("return",null);case 12:return e.next=14,ce(a);case 14:return c=e.sent,p(u+1),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(o.a)(l.a.mark((function e(){var r,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t.uid);case 2:null!=(r=e.sent).data&&(n=[],a=[],r.data.map((function(e,r){return e.playerOne==t.uid||e.playerTwo==t.uid?n.push(e):a.push(e)})),B(n),J(a));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(o.a)(l.a.mark((function e(){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t.uid);case 2:(r=e.sent).data&&(n=r.data.sort((function(e,t){return e.history.length-t.history.length})),c(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t.uid);case 2:(r=e.sent).data&&fe(r.data.sort((function(e,t){return e.updatedAt-t.updatedAt})).reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(o.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.uid);case 2:(r=e.sent).data&&V(r.data.sort((function(e,t){return e.history.length-t.history.length})).reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:"200"==e.sent.status&&p(u+1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(o.a)(l.a.mark((function e(r,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==r.playerOne?(r.playerOne=t.uid,console.log(t.uid),r.playerOneDisplayName=n):null==r.playerTwo&&(r.playerTwo=t.uid,r.playerTwoDisplayName=n),e.next=3,ie(r);case 3:if(200!==e.sent.status){e.next=9;break}return p(u+1),W("Succesfully joined game against ".concat(r.playerOneDisplayName!=n?r.playerOneDisplayName:r.playerTwoDisplayName)),y("show"),e.abrupt("return","success");case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(oe,{message:z,hideShow:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y("show"===e||!f)},display:f}),Object(d.jsxs)("div",{className:"multiplayer-page",children:["\xa0\xa0",Object(d.jsx)(je,{toggleBool:m,toggleFunc:we,trueString:"cancel new game",falseString:"Start a new game"}),"\xa0\xa0\xa0",Object(d.jsx)(le,{makeNewGame:ke,hideShowForm:we,display:m}),Object(d.jsx)(je,{toggleBool:k,toggleFunc:function(){N(!k)},trueString:"Hide your open game requests",falseString:"Show your open game requests"}),"\xa0\xa0\xa0",Object(d.jsx)(pe,{cancel:Se,display:k,openSeeks:G}),Object(d.jsx)(je,{toggleBool:S,toggleFunc:function(){T(!S)},trueString:"Hide these requests",falseString:"Game requests from others"}),"\xa0\xa0\xa0",Object(d.jsx)(he,{joinGame:Te,display:S,openSeeks:U}),Object(d.jsx)(je,{toggleBool:E,toggleFunc:function(){A(!E)},trueString:"Hide previous games",falseString:"Show previous games"}),Object(d.jsx)(xe,{display:E,user:t,games:ge}),Object(d.jsx)(Oe,{user:t,games:X})]})]})},ye=a.a.createContext([{user:null},function(){}]),ve=function(e){var t=e.resign;return!e.gameOver&&Object(d.jsx)("button",{onClick:t,className:"play-again",children:"Resign"})},we=function(e){var t=e.usersTurn,r=e.playerOnesTurn,n=e.styleInfo,a=e.gameOver,c=e.viewHistory,s=e.resign;return Object(d.jsxs)("div",{className:"dashboard",children:[Object(d.jsxs)("span",{className:"player-info grid-item",children:[a.gameOver?"".concat(a.winnerDisplayName," won "):t?"Your turn":"Their turn"," ",Object(d.jsx)("span",{style:{visibility:a.gameOver?"hidden":"visible"},className:r?"p1 ex "+n.shape+" "+n.boardStyle:"p2 ex "+n.shape+" "+n.boardStyle})]}),Object(d.jsx)(x,{viewHistory:c}),Object(d.jsx)(ve,{gameOver:a.gameOver,resign:s})]})},ke=function(e){var t=e.gameOver,r=t.gameOver?"flex":"none";return t.gameOver&&Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"end-modal",style:{display:r},children:[Object(d.jsx)("span",{onClick:function(){document.getElementsByClassName("end-modal")[0].style.visibility="hidden"},className:"close-modal",children:"X"}),Object(d.jsxs)("p",{children:[t.winnerDisplayName," has won!"]}),Object(d.jsx)(O.b,{className:"return-link",to:"/multiplayer",children:"Return To Dashboard"})]})})},Ne=function(e){var t=e.style,r=e.user,a=Object(g.e)().id,c=Object(n.useState)(!0),s=Object(b.a)(c,2),i=s[0],h=s[1],j=Object(n.useState)(!0),O=Object(b.a)(j,2),x=O[0],f=O[1],y=Object(n.useState)(C),v=Object(b.a)(y,2),N=v[0],I=v[1],P=Object(n.useState)([{board:C,historyIndex:0}]),S=Object(b.a)(P,2),T=S[0],K=S[1],D=Object(n.useState)(0),E=Object(b.a)(D,2),A=E[0],q=E[1],F=Object(n.useState)([]),G=Object(b.a)(F,2),B=G[0],M=G[1],L=Object(n.useState)({gameOver:!1,winner:null,winnerDisplayName:null}),U=Object(b.a)(L,2),J=U[0],R=U[1],H=Object(n.useState)(!1),z=Object(b.a)(H,2),W=z[0],Y=z[1],_=Object(n.useState)({}),X=Object(b.a)(_,2),V=X[0],Q=X[1],Z=Object(n.useState)(!0),$=Object(b.a)(Z,2),ee=$[0],re=$[1];Object(n.useEffect)((function(){ae(a);var e=setInterval(ae,2e3);return function(){return clearInterval(e)}}),[V]);var ne=function(e){h(r.uid===e.playerOne),f(e.playerOnesTurn),I(e.board),re(!1),K(e.history),q(e.history.length-1),console.log(e.history[e.history.length-1].multijumpOptions),M(e.history[e.history.length-1].multijumpOptions),R({gameOver:e.gameOver,winner:e.winner,winnerDisplayName:e.winner?e.winner===e.playerOne?e.playerOneDisplayName:e.playerTwoDisplayName:null}),Y(e.playerOnesTurn&&e.playerOne===r.uid||!e.playerOnesTurn&&e.playerTwo===r.uid),Q(e)},ae=function(){var e=Object(o.a)(l.a.mark((function e(){var t,r,n,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:a){e.next=3;break}return e.abrupt("return");case 3:if(!J.gameOver){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,te(t);case 7:if(200!==!(r=e.sent).status){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,r.data;case 12:if(!((n=e.sent).history.length<=T.length&&!1===ee&&!1===n.gameOver)){e.next=15;break}return e.abrupt("return");case 15:ne(n);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(o.a)(l.a.mark((function e(t,n,c){var s,o,b,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W){e.next=3;break}return console.log("not current users turn"),e.abrupt("return");case 3:if(!V.gameOver&&!J.gameOver){e.next=5;break}return e.abrupt("return");case 5:if(t=parseInt(t,10),n=parseInt(n,10),t!==n&&t){e.next=9;break}return e.abrupt("return");case 9:if(!("black"===c&&!i||"red"===c&&i)){e.next=11;break}return e.abrupt("return");case 11:if(!0!==N[t].hasPiece){e.next=13;break}return e.abrupt("return");case 13:if(console.log(B),void 0==B||!B.length||B.includes(parseInt(t,10))){e.next=16;break}return e.abrupt("return");case 16:if(!(A!==T.length-1&&T.length>0)){e.next=18;break}return e.abrupt("return");case 18:if((s=w(parseInt(t,10),parseInt(n,10),N,x)).valid){e.next=21;break}return e.abrupt("return");case 21:return s.multiJump?M(s.multiJumpOptions):(f(!x),M([])),o=N.map((function(e,r){return r==t?Object(p.a)(Object(p.a)({},e),{},{hasPiece:!0,pieceColor:N[n].pieceColor,pieceIsKing:s.isKing}):r==n||!0===s.jump&&r===s.jumpedSquare?Object(p.a)(Object(p.a)({},e),{},{hasPiece:!1,pieceColor:null,pieceIsKing:!1}):e})),I(o),K([].concat(Object(u.a)(T),[{board:o,historyIndex:A+1}])),q(A+1),!0===(b=k(o,!x)).gameOver&&R(b),e.next=30,ie({id:a,playerOne:V.playerOne,playerTwo:V.playerTwo,playerOneDisplayName:V.playerOneDisplayName,playerTwoDisplayName:V.playerTwoDisplayName,playerOnesTurn:s.multiJump?V.playerOnesTurn:!V.playerOnesTurn,board:o,history:[].concat(Object(u.a)(V.history),[{board:o,historyIndex:V.history.length,multijumpOptions:s.multiJump?s.multiJumpOptions:[]}]),gameOver:b.gameOver,winner:b.gameOver?r.uid:null});case 30:d=e.sent,console.log(d),Y(s.multiJump);case 33:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),se=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("resign"),a){e.next=3;break}return e.abrupt("return");case 3:if(!J.gameOver){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,ie(Object(p.a)(Object(p.a)({},V),{},{gameOver:!0,winner:r.uid==V.playerOne?V.playerTwo:V.playerOne}));case 7:t=e.sent,console.log(t),200===t.status&&R({gameOver:!0,winner:r.uid===V.playerOne?V.playerTwo:V.playerOne,winnerDisplayName:V.playerOne===r.uid?V.playerTwoDisplayName:V.playerOneDisplayName});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h4",{className:"header",children:[V.playerOneDisplayName,V.playerOne===r.uid?"(you)":""," vs ",V.playerTwoDisplayName,V.playerTwo===r.uid?"(you)":""]}),Object(d.jsx)(m,{boardState:N,setBoard:ce,styleInfo:{shape:t.shape,boardStyle:t.boardStyle,flipboard:!i}}),Object(d.jsx)(we,{resign:se,viewHistory:function(e){1!==T.length&&("left"===e&&A>0&&(I(T[A-1].board),q(A-1)),"present"===e&&(q(T.length-1),I(T[T.length-1].board)),"right"===e&&A<T.length-1&&(I(T[A+1].board),q(A+1)),"beginning"===e&&(I(T[0].board),q(0)))},styleInfo:t,gameOver:J,usersTurn:W,playerOnesTurn:V.playerOnesTurn}),Object(d.jsx)(ke,{gameOver:J})]}):Object(d.jsx)("div",{className:"header",children:"No multiplayer game has been chosen."})};var Ce=function(){var e=Object(n.useState)(!0),t=Object(b.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(C),s=Object(b.a)(c,2),i=s[0],h=s[1],j=Object(n.useState)([{board:i,historyIndex:0}]),x=Object(b.a)(j,2),f=x[0],y=x[1],S=Object(n.useState)(0),T=Object(b.a)(S,2),K=T[0],D=T[1],E=Object(n.useState)([]),A=Object(b.a)(E,2),q=A[0],F=A[1],B=Object(n.useState)({gameOver:!1,winner:null}),L=Object(b.a)(B,2),Y=L[0],_=L[1],X=Object(n.useState)("circle"),V=Object(b.a)(X,2),Q=V[0],Z=V[1],$=Object(n.useState)("brown"),ee=Object(b.a)($,2),te=ee[0],re=ee[1],ne=Object(n.useState)(!1),ae=Object(b.a)(ne,2),ce=ae[0],se=ae[1],ie=function(e,t,n){if(e=parseInt(e,10),t=parseInt(t,10),e!==t&&e&&!("black"===n&&!1===r||"red"===n&&!0===r)&&!0!==i[e].hasPiece&&(!(q.length>0)||q.includes(parseInt(e,10)))&&!(K!==f.length-1&&f.length>0)){var c=w(parseInt(e,10),parseInt(t,10),i,r);if(c.valid){c.multiJump?F(c.multiJumpOptions):(a(!r),F([]));var s=i.map((function(r,n){return n==e?Object(p.a)(Object(p.a)({},r),{},{hasPiece:!0,pieceColor:i[t].pieceColor,pieceIsKing:c.isKing}):n==t||!0===c.jump&&n===c.jumpedSquare?Object(p.a)(Object(p.a)({},r),{},{hasPiece:!1,pieceColor:null,pieceIsKing:!1}):r}));h(s),y([].concat(Object(u.a)(f),[{board:s,historyIndex:K+1}])),D(K+1);var l=k(s,!r);!0===l.gameOver&&_(l)}}},le=function(e){1!==f.length&&("left"===e&&K>0&&(h(f[K-1].board),D(K-1)),"present"===e&&(D(f.length-1),h(f[f.length-1].board)),"right"===e&&K<f.length-1&&(h(f[K+1].board),D(K+1)),"beginning"===e&&(h(f[0].board),D(0)))},oe=function(){a(!0),h(C),y([{board:C,historyIndex:0}]),D(0),F([]),_({gameOver:!1,winner:null}),document.getElementsByClassName("end-modal")[0].style.visibility="visible"},ue=function(e){Z(e)},pe=function(e){re(e)},be=function(){se(!ce)},de=Object(n.useState)(null),he=Object(b.a)(de,2),je=he[0],me=he[1];return G.onAuthStateChanged(function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:e.sent,me(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),null==je?Object(d.jsx)(ye.Provider,{value:je,children:Object(d.jsxs)(O.a,{children:[Object(d.jsx)(g.a,{path:"/",exact:!0,component:H}),Object(d.jsx)(g.a,{path:"/signUp",component:z}),Object(d.jsx)(g.a,{path:"/passwordReset",component:W})]})}):Object(d.jsx)(ye.Provider,{value:je,children:Object(d.jsx)(O.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(U,{}),Object(d.jsx)(g.a,{path:"/",exact:!0,render:function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{boardState:i,setBoard:ie,styleInfo:{shape:Q,boardStyle:te,flipboard:ce}}),Object(d.jsx)(v,{styleInfo:{shape:Q,boardStyle:te,flipboard:ce},resetGame:oe,player:r,gameOver:Y.gameOver,viewHistory:le,rotateBoard:be}),Object(d.jsx)(N,{resetGame:oe,gameOver:Y})]})}}),Object(d.jsx)(g.a,{path:"/about",component:P}),Object(d.jsx)(g.a,{path:"/preferences",render:function(e){return Object(d.jsx)(J,{changeBoardstyle:pe,changeShape:ue,style:{shape:Q,boardStyle:te}})}}),Object(d.jsx)(g.a,{path:"/rules",component:R}),Object(d.jsx)(g.a,{path:"/multiplayer",render:function(e){return Object(d.jsx)(fe,{user:je})}}),Object(d.jsx)(g.a,{path:"/play-multiplayer/:id",render:function(e){return Object(d.jsx)(Ne,{style:{shape:Q,boardStyle:te},user:je})}}),Object(d.jsx)(I,{})]})})})};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(Ce,{})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.84ecfa8f.chunk.js.map